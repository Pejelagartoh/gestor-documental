<mat-card>
  <div class="header" style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
    <h2 style="margin:0">Registro Documental</h2>
    <button mat-raised-button color="primary" (click)="openAddDialog()">➕ Nuevo Documento</button>
  </div>

  <div class="table-container" style="overflow:auto; max-height:75vh;">
    <table mat-table [dataSource]="documents" class="mat-elevation-z8" style="min-width:2500px;">

      <ng-container matColumnDef="id">
        <th mat-header-cell *matHeaderCellDef> ID </th>
        <td mat-cell *matCellDef="let e"> {{e.id}} </td>
      </ng-container>

      <ng-container matColumnDef="tramo">
        <th mat-header-cell *matHeaderCellDef> Tramo </th>
        <td mat-cell *matCellDef="let e"> {{e.tramo}} </td>
      </ng-container>

      <ng-container matColumnDef="tipoDocumento">
        <th mat-header-cell *matHeaderCellDef> Tipo Documento </th>
        <td mat-cell *matCellDef="let e"> {{e.tipoDocumento}} </td>
      </ng-container>

      <ng-container matColumnDef="nroDocumento">
        <th mat-header-cell *matHeaderCellDef> N° Documento </th>
        <td mat-cell *matCellDef="let e"> {{e.nroDocumento}} </td>
      </ng-container>

      <ng-container matColumnDef="fechaDocumento">
        <th mat-header-cell *matHeaderCellDef> Fecha Documento </th>
        <td mat-cell *matCellDef="let e"> {{e.fechaDocumento | date:'dd/MM/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="fechaIngreso">
        <th mat-header-cell *matHeaderCellDef> Fecha Ingreso </th>
        <td mat-cell *matCellDef="let e"> {{e.fechaIngreso | date:'dd/MM/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="remitente">
        <th mat-header-cell *matHeaderCellDef> Remitente </th>
        <td mat-cell *matCellDef="let e"> {{e.remitente}} </td>
      </ng-container>

      <ng-container matColumnDef="cargoRemitente">
        <th mat-header-cell *matHeaderCellDef> Cargo Remitente </th>
        <td mat-cell *matCellDef="let e"> {{e.cargoRemitente}} </td>
      </ng-container>

      <ng-container matColumnDef="destinatario">
        <th mat-header-cell *matHeaderCellDef> Destinatario </th>
        <td mat-cell *matCellDef="let e"> {{e.destinatario}} </td>
      </ng-container>

      <ng-container matColumnDef="cargoDestinatario">
        <th mat-header-cell *matHeaderCellDef> Cargo Destinatario </th>
        <td mat-cell *matCellDef="let e"> {{e.cargoDestinatario}} </td>
      </ng-container>

      <ng-container matColumnDef="antecedentesDocumento">
        <th mat-header-cell *matHeaderCellDef> Antecedentes </th>
        <td mat-cell *matCellDef="let e"> {{e.antecedentesDocumento}} </td>
      </ng-container>

      <ng-container matColumnDef="materiaDocumento">
        <th mat-header-cell *matHeaderCellDef> Materia </th>
        <td mat-cell *matCellDef="let e"> {{e.materiaDocumento}} </td>
      </ng-container>

      <ng-container matColumnDef="areaResponsable">
        <th mat-header-cell *matHeaderCellDef> Área Responsable </th>
        <td mat-cell *matCellDef="let e"> {{e.areaResponsable}} </td>
      </ng-container>

      <ng-container matColumnDef="instruyeRespuesta">
        <th mat-header-cell *matHeaderCellDef> Instruye Respuesta </th>
        <td mat-cell *matCellDef="let e"> {{ formatBoolean(e.instruyeRespuesta) }} </td>
      </ng-container>

      <ng-container matColumnDef="registroSalida">
        <th mat-header-cell *matHeaderCellDef> Registro Salida </th>
        <td mat-cell *matCellDef="let e"> {{e.registroSalida}} </td>
      </ng-container>

      <ng-container matColumnDef="tipoRespuesta">
        <th mat-header-cell *matHeaderCellDef> Tipo Respuesta </th>
        <td mat-cell *matCellDef="let e"> {{e.tipoRespuesta}} </td>
      </ng-container>

      <ng-container matColumnDef="fechaRespuesta">
        <th mat-header-cell *matHeaderCellDef> Fecha Resp. </th>
        <td mat-cell *matCellDef="let e"> {{e.fechaRespuesta | date:'dd/MM/yyyy'}} </td>
      </ng-container>

      <ng-container matColumnDef="remite">
        <th mat-header-cell *matHeaderCellDef> Remite </th>
        <td mat-cell *matCellDef="let e"> {{e.remite}} </td>
      </ng-container>

      <ng-container matColumnDef="a">
        <th mat-header-cell *matHeaderCellDef> A </th>
        <td mat-cell *matCellDef="let e"> {{e.a}} </td>
      </ng-container>

      <ng-container matColumnDef="estado">
        <th mat-header-cell *matHeaderCellDef> Estado </th>
        <td mat-cell *matCellDef="let e"> {{e.estado}} </td>
      </ng-container>

      <ng-container matColumnDef="archivo">
        <th mat-header-cell *matHeaderCellDef> Archivo </th>
        <td mat-cell *matCellDef="let e">
          <a [href]="e.archivo" target="_blank" *ngIf="e.archivo">
            <mat-icon color="accent">picture_as_pdf</mat-icon>
          </a>
        </td>
      </ng-container>

      <ng-container matColumnDef="acciones">
        <th mat-header-cell *matHeaderCellDef> Acciones </th>
        <td mat-cell *matCellDef="let e">
          <button mat-icon-button color="primary" (click)="editDocument(e)">
            <mat-icon>edit</mat-icon>
          </button>
          <button mat-icon-button color="warn" (click)="deleteDocument(e.id)">
            <mat-icon>delete</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
    </table>
  </div>
</mat-card>
